---
# tasks file for poudriere
- name: INSTALL | install packages 
  pkgng: 
   name={{ item }}
   state=present

  with_items:
   - poudriere

  tags:
   - install

- name: CREATE DIR | create dir keys,certs
  file:
   state=directory
   path={{ poudriere_ssl_dir }}/{{ item.name }}
   owner=root
   group=wheel
   mode={{ item.mode }}

  when:  poudriere_ssl_enable
  with_items:
   - { name: 'keys', mode: '0600' }
   - { name: 'certs', mode: '0644' }

  tags:
   - config
